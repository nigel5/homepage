<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1894.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; text-align: right; line-height: 17.0px; font: 13.0px Courier; color: #276ab4; -webkit-text-stroke: #276ab4; min-height: 16.0px}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 22.0px; font: 14.0px 'Helvetica Neue'; color: #175fc7; -webkit-text-stroke: #175fc7}
    p.p4 {margin: 0.0px 0.0px 14.0px 0.0px; line-height: 22.0px; font: 14.0px 'Helvetica Neue'; color: #000000; color: rgba(0, 0, 0, 0.87); -webkit-text-stroke: rgba(0, 0, 0, 0.87)}
    p.p6 {margin: 0.0px 0.0px 7.0px 0.0px; line-height: 18.0px; font: 14.0px Menlo; color: #000000; color: rgba(0, 0, 0, 0.87); -webkit-text-stroke: rgba(0, 0, 0, 0.87)}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; text-align: right; line-height: 17.0px; font: 13.0px Courier; color: #4e4e4e; -webkit-text-stroke: #4e4e4e}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 16.2px; font: 13.0px Courier; color: #191919; -webkit-text-stroke: #191919; background-color: #f2f2f2}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 16.2px; font: 13.0px Courier; color: #191919; -webkit-text-stroke: #191919; background-color: #f2f2f2; min-height: 16.0px}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 16.2px; font: 13.0px Courier; color: #a90e1a; -webkit-text-stroke: #a90e1a; background-color: #f2f2f2}
    p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; text-align: right; line-height: 17.0px; font: 13.0px Courier; color: #4e4e4e; -webkit-text-stroke: #4e4e4e; min-height: 16.0px}
    p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 18.0px; font: 14.0px 'Helvetica Neue'; color: #000000; -webkit-text-stroke: #000000}
    p.p15 {margin: 0.0px 0.0px 7.0px 0.0px; line-height: 22.0px; font: 14.0px 'Helvetica Neue'; color: #000000; color: rgba(0, 0, 0, 0.87); -webkit-text-stroke: rgba(0, 0, 0, 0.87)}
    p.p16 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 18.0px; font: 13.0px Courier; color: #000000; color: rgba(0, 0, 0, 0.87); -webkit-text-stroke: rgba(0, 0, 0, 0.87)}
    span.s1 {font-kerning: none}
    span.s2 {font: 14.0px 'Helvetica Neue'; font-kerning: none; color: #175fc7; -webkit-text-stroke: 0px #175fc7}
    span.s3 {font-kerning: none; background-color: #eaeaea}
    span.s4 {font-kerning: none; color: #0f7001; -webkit-text-stroke: 0px #0f7001}
    span.s5 {font-kerning: none; color: #074099; -webkit-text-stroke: 0px #074099}
    span.s6 {font-kerning: none; color: #9700ff; -webkit-text-stroke: 0px #9700ff}
    span.s7 {font-kerning: none; color: #191919; -webkit-text-stroke: 0px #191919}
    span.s8 {font-kerning: none; color: #a90e1a; -webkit-text-stroke: 0px #a90e1a}
    span.s9 {font-kerning: none; color: #107902; -webkit-text-stroke: 0px #107902}
  </style>
</head>
<body>
<p class="p1"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"><a href="file:///">Back<span class="s2"></span></a></span></p>
<h1 style="margin: 0.0px 0.0px 23.2px 0.0px; line-height: 29.0px; font: 29.0px 'Helvetica Neue'; color: #000000; color: rgba(0, 0, 0, 0.87); -webkit-text-stroke: rgba(0, 0, 0, 0.87)"><span class="s1">Analysis of Top 1000 Submissions in r/Toronto</span></h1>
<p class="p4"><span class="s1">In this notebook, we will perform sentiment analysis, and some general analysis on the top 1k submissions in r/Toronto using the naive-bayes classification model we built previously, and some other tools. We will be using Seaborn to create plots.</span></p>
<h2 style="margin: 0.0px 0.0px 19.4px 0.0px; line-height: 24.0px; font: 24.2px 'Helvetica Neue'; color: #000000; color: rgba(0, 0, 0, 0.87); -webkit-text-stroke: rgba(0, 0, 0, 0.87)"><span class="s1">Setup</span></h2>
<p class="p4"><span class="s1">The dependancies are listed out in requirements.txt. They can be quickly installed with Pip by running the following command</span></p>
<p class="p6"><span class="s3">python -m pip -r requirements.txt</span></p>
<p class="p7"><span class="s1">In [224]:</span></p>
<p class="p8"><span class="s4"><b>import</b></span><span class="s1"> pandas </span><span class="s4"><b>as</b></span><span class="s1"> pd</span></p>
<p class="p8"><span class="s4"><b>import</b></span><span class="s1"> pickle</span></p>
<p class="p8"><span class="s4"><b>import</b></span><span class="s1"> numpy</span></p>
<p class="p8"><span class="s4"><b>import</b></span><span class="s1"> matplotlib.pyplot </span><span class="s4"><b>as</b></span><span class="s1"> plt</span></p>
<p class="p8"><span class="s4"><b>import</b></span><span class="s1"> seaborn </span><span class="s4"><b>as</b></span><span class="s1"> sns</span></p>
<p class="p8"><span class="s4"><b>from</b></span><span class="s1"> collections </span><span class="s4"><b>import</b></span><span class="s1"> Counter</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p8"><span class="s4"><b>from</b></span><span class="s1"> nltk.tokenize </span><span class="s4"><b>import</b></span><span class="s1"> sent_tokenize</span><span class="s5">,</span><span class="s1"> word_tokenize</span></p>
<p class="p8"><span class="s4"><b>from</b></span><span class="s1"> train </span><span class="s4"><b>import</b></span><span class="s1"> cleanup_sentence</span><span class="s5">,</span><span class="s1"> sentence_to_dict</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p8"><span class="s1">sns</span><span class="s6"><b>.</b></span><span class="s1">set_theme</span><span class="s5">()</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p10"><span class="s7">TITLE </span><span class="s6"><b>=</b></span><span class="s7"> </span><span class="s1">'r/Toronto'</span></p>
<p class="p1"><span class="s1"></span><br></p>
<h3 style="margin: 0.0px 0.0px 8.1px 0.0px; line-height: 20.0px; font: 20.2px 'Helvetica Neue'; color: #000000; color: rgba(0, 0, 0, 0.87); -webkit-text-stroke: rgba(0, 0, 0, 0.87)"><span class="s1">Loading our pretrained model</span></h3>
<p class="p7"><span class="s1">In [263]:</span></p>
<p class="p10"><span class="s7">_classifier </span><span class="s6"><b>=</b></span><span class="s7"> open</span><span class="s5">(</span><span class="s1">'bin/classifier.o'</span><span class="s5">,</span><span class="s7"> </span><span class="s1">'rb'</span><span class="s5">)</span></p>
<p class="p8"><span class="s1">classifier </span><span class="s6"><b>=</b></span><span class="s1"> pickle</span><span class="s6"><b>.</b></span><span class="s1">load</span><span class="s5">(</span><span class="s1">_classifier</span><span class="s5">)</span></p>
<p class="p1"><span class="s1"></span><br></p>
<h3 style="margin: 0.0px 0.0px 8.1px 0.0px; line-height: 20.0px; font: 20.2px 'Helvetica Neue'; color: #000000; color: rgba(0, 0, 0, 0.87); -webkit-text-stroke: rgba(0, 0, 0, 0.87)"><span class="s1">Loading Dataset</span></h3>
<p class="p7"><span class="s1">In [ ]:</span></p>
<p class="p10"><span class="s7">df </span><span class="s6"><b>=</b></span><span class="s7"> pd</span><span class="s6"><b>.</b></span><span class="s7">read_csv</span><span class="s5">(</span><span class="s1">'data/toronto_dump.csv'</span><span class="s5">)</span></p>
<p class="p8"><span class="s1">df</span><span class="s5">[</span><span class="s8">'author'</span><span class="s5">]</span><span class="s6"><b>.</b></span><span class="s1">convert_dtypes</span><span class="s5">()</span></p>
<p class="p8"><span class="s1">df</span><span class="s5">[</span><span class="s8">'author'</span><span class="s5">]</span><span class="s6"><b>.</b></span><span class="s1">fillna</span><span class="s5">(</span><span class="s1">value</span><span class="s6"><b>=</b></span><span class="s8">'Unknown'</span><span class="s5">,</span><span class="s1"> inplace</span><span class="s6"><b>=</b></span><span class="s4"><b>True</b></span><span class="s5">)</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p10"><span class="s7">df</span><span class="s5">[</span><span class="s1">'created_utc'</span><span class="s5">]</span><span class="s7"> </span><span class="s6"><b>=</b></span><span class="s7"> pd</span><span class="s6"><b>.</b></span><span class="s7">to_datetime</span><span class="s5">(</span><span class="s7">df</span><span class="s5">[</span><span class="s1">'created_utc'</span><span class="s5">],</span><span class="s7"> unit</span><span class="s6"><b>=</b></span><span class="s1">'s'</span><span class="s5">)</span></p>
<p class="p1"><span class="s1"></span><br></p>
<h2 style="margin: 0.0px 0.0px 9.7px 0.0px; line-height: 24.0px; font: 24.2px 'Helvetica Neue'; color: #000000; color: rgba(0, 0, 0, 0.87); -webkit-text-stroke: rgba(0, 0, 0, 0.87)"><span class="s1">Flairs that made it to top</span></h2>
<p class="p7"><span class="s1">In [267]:</span></p>
<p class="p10"><span class="s7">flairs </span><span class="s6"><b>=</b></span><span class="s7"> df</span><span class="s6"><b>.</b></span><span class="s7">loc</span><span class="s5">[:][</span><span class="s1">'link_flair_text'</span><span class="s5">]</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p8"><span class="s1">flairs </span><span class="s6"><b>=</b></span><span class="s1"> pd</span><span class="s6"><b>.</b></span><span class="s1">DataFrame</span><span class="s6"><b>.</b></span><span class="s1">from_dict</span><span class="s5">(</span><span class="s1">Counter</span><span class="s5">(</span><span class="s1">flairs</span><span class="s5">),</span><span class="s1"> orient</span><span class="s6"><b>=</b></span><span class="s8">'index'</span><span class="s5">)</span></p>
<p class="p8"><span class="s1">flairs </span><span class="s6"><b>=</b></span><span class="s1"> flairs</span><span class="s6"><b>.</b></span><span class="s1">sort_values</span><span class="s5">(</span><span class="s1">by</span><span class="s6"><b>=</b></span><span class="s9">0</span><span class="s5">,</span><span class="s1"> ascending</span><span class="s6"><b>=</b></span><span class="s4"><b>False</b></span><span class="s5">)</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p8"><span class="s1">ax </span><span class="s6"><b>=</b></span><span class="s1"> sns</span><span class="s6"><b>.</b></span><span class="s1">countplot</span><span class="s5">(</span><span class="s1">y</span><span class="s6"><b>=</b></span><span class="s8">'link_flair_text'</span><span class="s5">,</span><span class="s1"> data</span><span class="s6"><b>=</b></span><span class="s1">df</span><span class="s5">,</span><span class="s1"> order</span><span class="s6"><b>=</b></span><span class="s1">df</span><span class="s5">[</span><span class="s8">'link_flair_text'</span><span class="s5">]</span><span class="s6"><b>.</b></span><span class="s1">value_counts</span><span class="s5">()</span><span class="s6"><b>.</b></span><span class="s1">index</span><span class="s5">)</span></p>
<p class="p10"><span class="s7">ax </span><span class="s6"><b>=</b></span><span class="s7"> ax</span><span class="s6"><b>.</b></span><span class="s7">set</span><span class="s5">(</span><span class="s7">title</span><span class="s6"><b>=</b></span><span class="s1">'Flairs in r/Toronto'</span><span class="s5">)</span></p>
<p class="p13"><span class="s1"></span><br></p>
<p class="p14"><span class="s1"><img src="file:///unknown.png" alt="unknown.png"><span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p15"><span class="s1">Pitures, Videos, and news are amongst the top flairs in r/Toronto. There are some flairs which are unavaiable for general usage such as 'Stats Misleading', or 'Fine B O I'.</span></p>
<p class="p1"><span class="s1"></span><br></p>
<h2 style="margin: 0.0px 0.0px 9.7px 0.0px; line-height: 24.0px; font: 24.2px 'Helvetica Neue'; color: #000000; color: rgba(0, 0, 0, 0.87); -webkit-text-stroke: rgba(0, 0, 0, 0.87)"><span class="s1">Positive or Negative Submission Title?</span></h2>
<p class="p7"><span class="s1">In [246]:</span></p>
<p class="p8"><span class="s1">title_is_positive </span><span class="s6"><b>=</b></span><span class="s1"> </span><span class="s5">[]</span></p>
<p class="p8"><span class="s4"><b>for</b></span><span class="s1"> i</span><span class="s5">,</span><span class="s1"> sentence </span><span class="s6"><b>in</b></span><span class="s1"> enumerate</span><span class="s5">(</span><span class="s1">df</span><span class="s6"><b>.</b></span><span class="s1">loc</span><span class="s5">[:][</span><span class="s8">'title'</span><span class="s5">]):</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">    </span>s </span><span class="s6"><b>=</b></span><span class="s1"> word_tokenize</span><span class="s5">(</span><span class="s1">str</span><span class="s5">(</span><span class="s1">sentence</span><span class="s5">))</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">    </span>s </span><span class="s6"><b>=</b></span><span class="s1"> cleanup_sentence</span><span class="s5">(</span><span class="s1">s</span><span class="s5">)</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">    </span>s </span><span class="s6"><b>=</b></span><span class="s1"> sentence_to_dict</span><span class="s5">([</span><span class="s1">s</span><span class="s5">])</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">    </span>inp </span><span class="s6"><b>=</b></span><span class="s1"> </span><span class="s5">[]</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s4"><b>for</b></span><span class="s1"> key </span><span class="s6"><b>in</b></span><span class="s1"> s</span><span class="s5">:</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span>inp</span><span class="s6"><b>.</b></span><span class="s1">append</span><span class="s5">(</span><span class="s1">key</span><span class="s5">)</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">    </span>pred </span><span class="s6"><b>=</b></span><span class="s1"> classifier</span><span class="s6"><b>.</b></span><span class="s1">classify</span><span class="s5">(</span><span class="s1">key</span><span class="s5">)</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">    </span>title_is_positive</span><span class="s6"><b>.</b></span><span class="s1">append</span><span class="s5">(</span><span class="s8">'Positive'</span><span class="s1"> </span><span class="s4"><b>if</b></span><span class="s1"> pred </span><span class="s4"><b>else</b></span><span class="s1"> </span><span class="s8">'Negative'</span><span class="s5">)</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p8"><span class="s1">df</span><span class="s5">[</span><span class="s8">'title_is_positive'</span><span class="s5">]</span><span class="s1"> </span><span class="s6"><b>=</b></span><span class="s1"> title_is_positive</span></p>
<p class="p8"><span class="s1">ax </span><span class="s6"><b>=</b></span><span class="s1"> sns</span><span class="s6"><b>.</b></span><span class="s1">countplot</span><span class="s5">(</span><span class="s1">y</span><span class="s6"><b>=</b></span><span class="s8">'title_is_positive'</span><span class="s5">,</span><span class="s1"> data</span><span class="s6"><b>=</b></span><span class="s1">df</span><span class="s5">)</span></p>
<p class="p10"><span class="s7">ax </span><span class="s6"><b>=</b></span><span class="s7"> ax</span><span class="s6"><b>.</b></span><span class="s7">set</span><span class="s5">(</span><span class="s7">xlabel</span><span class="s6"><b>=</b></span><span class="s1">'Count'</span><span class="s5">,</span><span class="s7"> ylabel</span><span class="s6"><b>=</b></span><span class="s1">'Emotion'</span><span class="s5">,</span><span class="s7"> title</span><span class="s6"><b>=</b></span><span class="s1">'Naive Bayes Classification of Submission Titles'</span><span class="s5">)</span></p>
<p class="p13"><span class="s1"></span><br></p>
<p class="p14"><span class="s1"><img src="file:///unknown_1.png" alt="unknown_1.png"><span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s1">In [260]:</span></p>
<p class="p10"><span class="s7">pos_count </span><span class="s6"><b>=</b></span><span class="s7"> df</span><span class="s6"><b>.</b></span><span class="s7">loc</span><span class="s5">[</span><span class="s7">df</span><span class="s5">[</span><span class="s1">'title_is_positive'</span><span class="s5">]</span><span class="s7"> </span><span class="s6"><b>==</b></span><span class="s7"> </span><span class="s1">'Positive'</span><span class="s5">,</span><span class="s7"> </span><span class="s1">'title_is_positive'</span><span class="s5">]</span><span class="s6"><b>.</b></span><span class="s7">count</span><span class="s5">()</span></p>
<p class="p8"><span class="s1">neg_count </span><span class="s6"><b>=</b></span><span class="s1"> len</span><span class="s5">(</span><span class="s1">df</span><span class="s5">)</span><span class="s1"> </span><span class="s6"><b>-</b></span><span class="s1"> pos_count</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p8"><span class="s1">print</span><span class="s5">(</span><span class="s1">pos_count</span><span class="s5">,</span><span class="s1"> neg_count</span><span class="s5">)</span></p>
<p class="p13"><span class="s1"></span><br></p>
<p class="p16"><span class="s1">614 385</span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p15"><span class="s1">614/1000 submissions in r/Toronto all were classified as positive submissions.</span></p>
<p class="p1"><span class="s1"></span><br></p>
<h2 style="margin: 0.0px 0.0px 9.7px 0.0px; line-height: 24.0px; font: 24.2px 'Helvetica Neue'; color: #000000; color: rgba(0, 0, 0, 0.87); -webkit-text-stroke: rgba(0, 0, 0, 0.87)"><span class="s1">Top Contributors</span></h2>
<p class="p7"><span class="s1">In [185]:</span></p>
<p class="p8"><span class="s1">contributors </span><span class="s6"><b>=</b></span><span class="s1"> </span><span class="s5">{}</span></p>
<p class="p8"><span class="s1">max_posts_count </span><span class="s6"><b>=</b></span><span class="s1"> </span><span class="s6"><b>-</b></span><span class="s9">1</span></p>
<p class="p8"><span class="s1">max_posts_author </span><span class="s6"><b>=</b></span><span class="s1"> </span><span class="s8">""</span></p>
<p class="p8"><span class="s4"><b>for</b></span><span class="s1"> contributor </span><span class="s6"><b>in</b></span><span class="s1"> df</span><span class="s6"><b>.</b></span><span class="s1">loc</span><span class="s5">[:][</span><span class="s8">'author'</span><span class="s5">]:</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s4"><b>if</b></span><span class="s1"> contributor </span><span class="s6"><b>==</b></span><span class="s1"> </span><span class="s8">'Unknown'</span><span class="s5">:</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s4"><b>continue</b></span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s4"><b>if</b></span><span class="s1"> contributor </span><span class="s6"><b>in</b></span><span class="s1"> contributors</span><span class="s5">:</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span>contributors</span><span class="s5">[</span><span class="s1">contributor</span><span class="s5">]</span><span class="s1"> </span><span class="s6"><b>+=</b></span><span class="s1"> </span><span class="s9">1</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s4"><b>if</b></span><span class="s1"> contributors</span><span class="s5">[</span><span class="s1">contributor</span><span class="s5">]</span><span class="s1"> </span><span class="s6"><b>&gt;</b></span><span class="s1"> max_posts_count</span><span class="s5">:</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">            </span>max_posts_count </span><span class="s6"><b>=</b></span><span class="s1"> contributors</span><span class="s5">[</span><span class="s1">contributor</span><span class="s5">]</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">            </span>max_posts_author </span><span class="s6"><b>=</b></span><span class="s1"> contributor</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s4"><b>else</b></span><span class="s5">:</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span>contributors</span><span class="s5">[</span><span class="s1">contributor</span><span class="s5">]</span><span class="s1"> </span><span class="s6"><b>=</b></span><span class="s1"> </span><span class="s9">1</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p10"><span class="s7">print</span><span class="s5">(</span><span class="s1">'Number of unique contributors: {}'</span><span class="s6"><b>.</b></span><span class="s7">format</span><span class="s5">(</span><span class="s7">len</span><span class="s5">(</span><span class="s7">contributors</span><span class="s5">)))</span></p>
<p class="p10"><span class="s7">print</span><span class="s5">(</span><span class="s1">'Top contributor in {} all posts: {} ({} submissions)'</span><span class="s6"><b>.</b></span><span class="s7">format</span><span class="s5">(</span><span class="s7">TITLE</span><span class="s5">,</span><span class="s7"> max_posts_author</span><span class="s5">,</span><span class="s7"> max_posts_count</span><span class="s5">))</span></p>
<p class="p13"><span class="s1"></span><br></p>
<p class="p16"><span class="s1">Number of unique contributors: 757</span></p>
<p class="p16"><span class="s1">Top contributor in r/Toronto all posts: ur_a_idiet (16 submissions)</span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p15"><span class="s1">Out of 1000 top posts in r/Toronto. 75.7% of top posts were made by unique redditors. The person with the most submissions in <i>all</i> is <b>ur_a_idiet</b> with 16 submissions.</span></p>
<p class="p1"><span class="s1"></span><br></p>
<h2 style="margin: 0.0px 0.0px 19.4px 0.0px; line-height: 24.0px; font: 24.2px 'Helvetica Neue'; color: #000000; color: rgba(0, 0, 0, 0.87); -webkit-text-stroke: rgba(0, 0, 0, 0.87)"><span class="s1">Time of Submission</span></h2>
<p class="p15"><span class="s1">Most of the top posts (&gt;70%) were submitted in the afternoon or evening. Few top posts were submitted at night.</span></p>
<p class="p7"><span class="s1">In [245]:</span></p>
<p class="p8"><span class="s1">hours_of_submissions </span><span class="s6"><b>=</b></span><span class="s1"> df</span><span class="s5">[</span><span class="s8">'created_utc'</span><span class="s5">]</span><span class="s6"><b>.</b></span><span class="s1">dt</span><span class="s6"><b>.</b></span><span class="s1">hour</span></p>
<p class="p8"><span class="s1">minutes_of_submissions </span><span class="s6"><b>=</b></span><span class="s1"> df</span><span class="s5">[</span><span class="s8">'created_utc'</span><span class="s5">]</span><span class="s6"><b>.</b></span><span class="s1">dt</span><span class="s6"><b>.</b></span><span class="s1">minute</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p8"><span class="s1">times </span><span class="s6"><b>=</b></span><span class="s1"> </span><span class="s5">[]</span></p>
<p class="p8"><span class="s4"><b>for</b></span><span class="s1"> i </span><span class="s6"><b>in</b></span><span class="s1"> range</span><span class="s5">(</span><span class="s1">len</span><span class="s5">(</span><span class="s1">hours_of_submissions</span><span class="s5">)):</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">    </span>hour </span><span class="s6"><b>=</b></span><span class="s1"> hours_of_submissions</span><span class="s5">[</span><span class="s1">i</span><span class="s5">]</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">    </span>minute </span><span class="s6"><b>=</b></span><span class="s1"> minutes_of_submissions</span><span class="s5">[</span><span class="s1">i</span><span class="s5">]</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">    </span>times</span><span class="s6"><b>.</b></span><span class="s1">append</span><span class="s5">(</span><span class="s1">hour </span><span class="s6"><b>+</b></span><span class="s1"> minute </span><span class="s6"><b>/</b></span><span class="s1"> </span><span class="s9">60.0</span><span class="s5">)</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p8"><span class="s1">times </span><span class="s6"><b>=</b></span><span class="s1"> numpy</span><span class="s6"><b>.</b></span><span class="s1">array</span><span class="s5">(</span><span class="s1">times</span><span class="s5">)</span></p>
<p class="p8"><span class="s1">times</span><span class="s5">,</span><span class="s1"> counts </span><span class="s6"><b>=</b></span><span class="s1"> numpy</span><span class="s6"><b>.</b></span><span class="s1">unique</span><span class="s5">(</span><span class="s1">times</span><span class="s5">,</span><span class="s1"> return_counts</span><span class="s6"><b>=</b></span><span class="s4"><b>True</b></span><span class="s5">)</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p8"><span class="s1">ax </span><span class="s6"><b>=</b></span><span class="s1"> sns</span><span class="s6"><b>.</b></span><span class="s1">lineplot</span><span class="s5">(</span><span class="s1">x</span><span class="s6"><b>=</b></span><span class="s1">times</span><span class="s5">,</span><span class="s1"> y</span><span class="s6"><b>=</b></span><span class="s1">counts</span><span class="s5">)</span></p>
<p class="p10"><span class="s7">ax </span><span class="s6"><b>=</b></span><span class="s7"> ax</span><span class="s6"><b>.</b></span><span class="s7">set</span><span class="s5">(</span><span class="s7">xlabel</span><span class="s6"><b>=</b></span><span class="s1">'Hour'</span><span class="s5">,</span><span class="s7"> ylabel</span><span class="s6"><b>=</b></span><span class="s1">'Frequency'</span><span class="s5">,</span><span class="s7"> title</span><span class="s6"><b>=</b></span><span class="s1">'Hour of Top Posts in {}'</span><span class="s6"><b>.</b></span><span class="s7">format</span><span class="s5">(</span><span class="s7">TITLE</span><span class="s5">))</span></p>
<p class="p13"><span class="s1"></span><br></p>
<p class="p14"><span class="s1"><img src="file:///unknown_2.png" alt="unknown_2.png"><span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"></span><br></p>
<h2 style="margin: 0.0px 0.0px 19.4px 0.0px; line-height: 24.0px; font: 24.2px 'Helvetica Neue'; color: #000000; color: rgba(0, 0, 0, 0.87); -webkit-text-stroke: rgba(0, 0, 0, 0.87)"><span class="s1">Future Improvements</span></h2>
<p class="p4"><span class="s1">Some more details that can be looked into are submission Redditor's account age, what kinds of posts are made during certain periods of the day. The classification model can also be improved, which we talked about in that lab.</span></p>
<p class="p15"><span class="s1">We shall also do the same analysis in r/Toronto, but for a different time period to compare the results. During the pandemic, probably more of the top posts would be news, and videos. Furthermore, we expect the hour of posts to be more uniform as most of the population are spending more time online. More negative submissions would also be expected.</span></p>
</body>
</html>
